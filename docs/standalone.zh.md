
# 介绍

这一页是关于如何设计一个可以与GN独立构建的项目,也可以被引入到Chrome构建中.

原则上,GN与GYP没有什么不同,因为在独立构建和Chrome构建之间存在一些必须相同的核心配置.然而,GN在命名和配置方面更加明确,因此两个构建之间的相似性也更加明确,并且配置事物的灵活性也更低.

# 您需要最小的GN构建

要求:

-   主构建配置文件.铬是`//build/config/BUILDCONFIG.gn`
-   用于工具链定义的单独生成文件.将这些放入一个构建文件中并不是一个好主意,因为复杂的原因,GN文件与任何目标定义共享.Chrome在`//build/toolchain/<platform>/BUILD.gn`.
-   一`BUILD.gn`根目录中的文件.这将在生成配置文件之后加载以启动生成.

你可能想要一个`.gn`根目录中的文件.当您运行GN时,它递归地查找目录树,直到找到该文件,并将包含的目录视为"源根".该文件还定义了主构建配置文件的位置:

-   见Chrome`src/.gn`文件.
-   与Chrome不同,您可能不需要定义第二根.
-   看见`gn help dotfile`更多.

添加一个`.gn`在被拖入Chrome的存储库中的文件意味着,然后在子目录中运行GN将为子项目而不是为所有Chrome配置构建.这可能是有利的,也可能是不利的.

如果您在具有此类文件的目录中,并且不想使用它(例如,要进行完整的Chrome构建),则可以使用命令行标志`--root`和`--dotfile`设置所需的值.

如果您想要一个完全独立的构建,它与Chrome无关,也不使用Chrome.`//build`文件,你可以看一个例子[//工具/GN/实例](../example).
